{% load static %}

{% if user.is_authenticated %}
<br><br>
<h3><a href="logout" style="text-decoration:none;color:white;margin-left:90%;">log out</a></h3>
<h1>Welcome &nbsp; {{user.username}}</h1>
{% else %}
<br><br>
<div style="margin-left:85%;">
    <a href="register" style="text-decoration:none;color:white;"><b>Register</b> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
    <a href="login" style="text-decoration:none;color:white;"><b>Login</b></a>
{% endif %}
</div>
<div class="box">
	<a class="button" href="#popup1">Fill up the Form</a>
</div>
<link rel="stylesheet" href="{% static 'styles.css' %}">
<div id="popup1" class="overlay">
	<div class="popup">
		<h2>Please Fill the Form</h2>
		<a class="close" href="#">&times;</a>
		<div class="content">
			<div class="formbold-main-wrapper">
  <!-- Author: FormBold Team -->
  <!-- Learn More: https://formbold.com -->
  <div class="formbold-form-wrapper">

    <img src="{% static 'computer.png' %}">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.js"></script>
<!--    <form action="bank" method="POST">-->
<!--        {% csrf_token %}-->
      <div class="formbold-form-title">
        <h2 class="">Register Now</h2>
        <p>
         Please enter all the fields to get the application accepted.<br><br>** All the fields are mandatory.
        </p>
      </div>
        <h1 style="color:white;">
            {% for msg in messages %}
                {{msg}}
            {% endfor %}
        </h1>
    <form action="bank" method="post" onsubmit="return demo()">
        {% csrf_token %}
      <div class="formbold-input-flex">
        <div>
          <label for="name" class="formbold-form-label">
            Name
          </label>
          <input
            type="text"
            name="name"
            id="name"
            class="formbold-form-input"
          required/>
        </div>
        <div>
          <label for="dob" class="formbold-form-label"> Date of Birth </label>
          <input
            type="date"
            name="dob"
            id="dob"
            class="formbold-form-input"
          required/>
        </div>
      </div>

      <div class="formbold-input-flex">
        <div>
          <label for="age" class="formbold-form-label"> Age </label>
          <input
            type="number"
            name="age"
            id="age"
            class="formbold-form-input"
          required/>
        </div>
<!--        <div>-->
<!--          <label for="gender" class="formbold-form-label"> Gender </label>-->
<!--          <input type="radio" value="male">&nbsp;&nbsp;Male&nbsp;&nbsp;-->
<!--          <input type="radio" value="female">&nbsp;&nbsp;Female-->
<!--        </div>-->
        <div>
          <label for="phone" class="formbold-form-label"> Phone Number </label>
          <input
            type="text"
            name="phone"
            id="phone"
            class="formbold-form-input"
          required/>
        </div>
      </div>
      <div>
          <label for="gender" class="formbold-form-label"> Gender </label>
          <input type="radio" name="gender" id="gender" value="male">&nbsp;&nbsp;Male&nbsp;&nbsp;
          <input type="radio" name="gender" value="female">&nbsp;&nbsp;Female
        </div><br>

      <div class="formbold-mb-3">
        <label for="email" class="formbold-form-label">
          Email address
        </label>
        <input
          type="email"
          name="email"
          id="email"
          class="formbold-form-input"
        required/>
      </div>

      <div class="formbold-mb-3">
        <label for="address" class="formbold-form-label">
          Street Address
        </label>
        <input
          type="text"
          name="address"
          id="address"
          class="formbold-form-input"
        required/>
      </div>
      <div class="formbold-mb-3">
        <div class="form">
            <label for="district" class="formbold-form-label">Select District</label>
            <select type="text" name="district" id="district" class="formbold-form-input">
                <option value="">Select District</option>
                <option value="Kochi">Kochi</option>
                <option value="Thrissur">Thrissur</option>
                <option value="Kozhikode">Kozhikode</option>
                <option value="Kannur">Kannur</option>
            </select>
        </div>
      </div>
      <div class="form">
            <label for="branch" class="formbold-form-label">Select Branch</label>
            <select type="text" disabled="disabled" class="branch" id="branch" name="branch" style="padding:1em;width:100%;height:3.5em;">
                <option value="">Select Branches</option>
                <!-- Home Ware -->
                <optgroup data-rel="Kochi">
                    <option value="Edapally">Edapally</option>
                    <option value="Aluva">Aluva</option>
                    <option value="Angamaly">Angamaly</option>
                    <option value="Perumbavoor">Perumbavoor</option>
                </optgroup>
                <!-- Education -->
                <optgroup data-rel="Thrissur">
                    <option value="Mukundapuram">Mukundapuram</option>
                    <option value="Tholur">Tholur</option>
                    <option value="Puthur">Puthur</option>
                    <option value="Kaiparamba">Kaiparamba</option>
                    <option value="Avinissery">Avinissery</option>
                </optgroup>
                <optgroup data-rel="Kozhikode">
                    <option value="Thamarassery">Thamarassery</option>
                    <option value="Mankavu">Mankavu</option>
                    <option value="Koyilandy">Koyilandy</option>
                    <option value="Cheruvannur">Cheruvannur</option>
                </optgroup>
                <optgroup data-rel="Kannur">
                    <option value="Cherukunnu">Cherukunnu</option>
                    <option value="Thalassery">Thalassery</option>
                    <option value="Payyoli">Payyoli</option>
                    <option value="Valapatanam">Valapatanam</option>
                </optgroup>
            </select>
        </div>

<!--      <div class="formbold-input-flex">-->
<!--        <div>-->
<!--          <label for="district" class="formbold-form-label"> District </label>-->
<!--          <select-->
<!--            type="text"-->
<!--            name="district"-->
<!--            id="district"-->
<!--            class="formbold-form-input">-->
<!--            <option>Thiruvananthapuram</option>-->
<!--            <option>Kochi</option>-->
<!--            <option>Thrissur</option>-->
<!--            <option>Kozhikode</option>-->
<!--            <option>Kannur</option>-->
<!--          </select>-->
<!--        </div></div>-->

<!--        <div>-->
<!--          <label for="branch" class="formbold-form-label"> Branch </label>-->
<!--          <input-->
<!--            type="text"-->
<!--            name="branch"-->
<!--            id="branch"-->
<!--            class="formbold-form-input"-->
<!--          />-->
<!--        </div>-->
<br>
        <div class="formbold-input-flex">
        <div>
          <label for="account" class="formbold-form-label"> Account Type </label>
          <select
            type="text"
            name="account"
            id="account"
            class="formbold-form-input" required>
            <option>Savings Account</option>
            <option>Current Account</option>
          </select>
        </div></div>
<br>
         <div>
          <label for="materials" class="formbold-form-label"> Materials Provided </label>
          <input type="checkbox" id="materials" name="materials">Debit Card &nbsp;&nbsp;&nbsp;
          <input type="checkbox" name="materials">Credit Card &nbsp;&nbsp;&nbsp;
          <input type="checkbox" name="materials">Cheque Book
        </div>

<br><br><br><br>
      <div class="formbold-checkbox-wrapper">
        <label for="supportCheckbox" class="formbold-checkbox-label">
          <div class="formbold-relative">
            <input
              type="checkbox"
              id="supportCheckbox"
              class="formbold-input-checkbox"
            />
            <div class="formbold-checkbox-inner">
              <span class="formbold-opacity-0">
                <svg
                  width="11"
                  height="8"
                  viewBox="0 0 11 8"
                  fill="none"
                  class="formbold-stroke-current"
                >
                  <path
                    d="M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z"
                    stroke-width="0.4"
                  ></path>
                </svg>
              </span>
            </div>
          </div>
          I agree to the defined terms, conditions, and policies
        </label>
      </div>
      <button class="formbold-btn">Register Now</button>
<!--      <button class="formbold-btn" style="background-color:darkred;" href="/credentials/logout">Logout</button>-->
    </form>
<!--    </form>-->
  </div>
</div>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Inter', sans-serif;
  }
  .formbold-mb-3 {
    margin-bottom: 15px;
  }
  .formbold-relative {
    position: relative;
  }
  .formbold-opacity-0 {
    opacity: 0;
  }
  .formbold-stroke-current {
    stroke: currentColor;
  }
  #supportCheckbox:checked ~ div span {
    opacity: 1;
  }

  .formbold-main-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 48px;
  }

  .formbold-form-wrapper {
    margin: 0 auto;
    max-width: 570px;
    width: 100%;
    background: white;
    padding: 40px;
  }

  .formbold-img {
    margin-bottom: 45px;
  }

  .formbold-form-title {
    margin-bottom: 30px;
  }
  .formbold-form-title h2 {
    font-weight: 600;
    font-size: 28px;
    line-height: 34px;
    color: #07074d;
  }
  .formbold-form-title p {
    font-size: 16px;
    line-height: 24px;
    color: #536387;
    margin-top: 12px;
  }

  .formbold-input-flex {
    display: flex;
    gap: 20px;
    margin-bottom: 15px;
  }
  .formbold-input-flex > div {
    width: 50%;
  }
  .formbold-form-input {
    text-align: center;
    width: 100%;
    padding: 13px 22px;
    border-radius: 5px;
    border: 1px solid #dde3ec;
    background: #ffffff;
    font-weight: 500;
    font-size: 16px;
    color: #536387;
    outline: none;
    resize: none;
  }
  .formbold-form-input:focus {
    border-color: #6a64f1;
    box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.05);
  }
  .formbold-form-label {
    color: #536387;
    font-size: 14px;
    line-height: 24px;
    display: block;
    margin-bottom: 10px;
  }

  .formbold-checkbox-label {
    display: flex;
    cursor: pointer;
    user-select: none;
    font-size: 16px;
    line-height: 24px;
    color: #536387;
  }
  .formbold-checkbox-label a {
    margin-left: 5px;
    color: #6a64f1;
  }
  .formbold-input-checkbox {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
  .formbold-checkbox-inner {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    margin-right: 16px;
    margin-top: 2px;
    border: 0.7px solid #dde3ec;
    border-radius: 3px;
  }

  .formbold-btn {
    font-size: 16px;
    border-radius: 5px;
    padding: 14px 25px;
    border: none;
    font-weight: 500;
    background-color: #6a64f1;
    color: white;
    cursor: pointer;
    margin-top: 25px;
  }
  .formbold-btn:hover {
    box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.05);
  }
</style>
		</div>
	</div>
</div>


<script type="text/javascript">
    //<![CDATA[
    $(function () {
        var $cat = $("#district"),
            $branch = $(".branch");
        var optgroups = {};
        $branch.each(function (i, v) {
            var $e = $(v);
            var _id = $e.attr("id");
            optgroups[_id] = {};
            $e.find("optgroup").each(function () {
                var _r = $(this).data("rel");
                $(this).find("option").addClass("is-dyn");
                optgroups[_id][_r] = $(this).html();
            });
        });
        $branch.find("optgroup").remove();

        var _lastRel;
        $cat.on("change", function () {
            var _rel = $(this).val();
            if (_lastRel === _rel) return true;
            _lastRel = _rel;
            $branch.find("option").attr("style", "");
            $branch.val("");
            $branch.find(".is-dyn").remove();
            if (!_rel) return $branch.prop("disabled", true);
            $branch.each(function () {
                var $el = $(this);
                var _id = $el.attr("id");
                $el.append(optgroups[_id][_rel]);
            });
            $branch.prop("disabled", false);
        });
    });
    //]]>
</script>
<script>
    function demo(){
        var content = '<h3><center><br><br><br><br><br>Application Accepted Successfully.<br><br></center></h3>';
        document.write(content);
        var text = "<h3><center>GO TO HOME PAGE.</center></h3>";
        var result = text.link("http://127.0.0.1:8000/");
        document.write(result);
       }
</script>
